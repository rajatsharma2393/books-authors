{"version":3,"sources":["components/Books/books.js"],"names":["Books","this","props","books","length","loadBooks","authors","loadAuthors","map","book","key","id","to","name","onClick","deleteBook","apiCallInProgress","className","React","Component","connect","state"],"mappings":"gNAOMA,E,4LAEGC,KAAKC,MAAMC,OAAqC,IAA5BF,KAAKC,MAAMC,MAAMC,QACxCH,KAAKC,MAAMG,YAERJ,KAAKC,MAAMI,SAAyC,IAA9BL,KAAKC,MAAMI,QAAQF,QAC5CH,KAAKC,MAAMK,gB,+BAIL,IAAD,OACHJ,EAAQF,KAAKC,MAAMC,MAAMK,KAAI,SAAAC,GAAI,OACnC,0BAAMC,IAAKD,EAAKE,IACd,kBAAC,IAAD,CAAMC,GAAE,gBAAWH,EAAKE,KAAOF,EAAKI,MACpC,4BAAQC,QAAS,kBAAM,EAAKZ,MAAMa,WAAWN,KAA7C,UACA,iCAGJ,OACE,oCACGR,KAAKC,MAAMc,kBACV,wCAEA,oCACE,qCACA,kBAAC,IAAD,CAAMJ,GAAG,UAAUK,UAAU,OAA7B,YAGA,6BACCd,Q,GA7BOe,IAAMC,WAqDXC,uBARf,SAAyBC,GACvB,MAAO,CACLlB,MAAOkB,EAAMlB,MACbG,QAASe,EAAMf,QACfU,kBAAmBK,EAAML,qBAM3B,CAAEX,cAAWE,gBAAaQ,gBAFbK,CAGbpB","file":"static/js/4.c5106625.chunk.js","sourcesContent":["import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { loadBooks, deleteBook } from \"../../actions/bookActions\";\nimport { loadAuthors } from \"../../actions/authorActions\";\nimport PropTypes from \"prop-types\";\nimport { Link, Redirect } from \"react-router-dom\";\n\nclass Books extends React.Component {\n  componentDidMount() {\n    if (!this.props.books || this.props.books.length === 0) {\n      this.props.loadBooks();\n    }\n    if (!this.props.authors || this.props.authors.length === 0) {\n      this.props.loadAuthors();\n    }\n  }\n\n  render() {\n    let books = this.props.books.map(book => (\n      <span key={book.id}>\n        <Link to={`/book/${book.id}`}>{book.name}</Link>\n        <button onClick={() => this.props.deleteBook(book)}>Delete</button>\n        <br />\n      </span>\n    ));\n    return (\n      <>\n        {this.props.apiCallInProgress ? (\n          <div>Loading</div>\n        ) : (\n          <>\n            <h1>Books</h1>\n            <Link to=\"/book/0\" className=\"btn\">\n              Add book\n            </Link>\n            <br />\n            {books}\n          </>\n        )}\n      </>\n    );\n  }\n}\n\nBooks.propTypes = {\n  books: PropTypes.array.isRequired,\n  authors: PropTypes.array.isRequired,\n  apiCallInProgress: PropTypes.bool.isRequired,\n  loadBooks: PropTypes.func.isRequired,\n  deleteBook: PropTypes.func.isRequired\n};\n\nfunction mapStateToProps(state) {\n  return {\n    books: state.books,\n    authors: state.authors,\n    apiCallInProgress: state.apiCallInProgress\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  { loadBooks, loadAuthors, deleteBook }\n)(Books);\n"],"sourceRoot":""}