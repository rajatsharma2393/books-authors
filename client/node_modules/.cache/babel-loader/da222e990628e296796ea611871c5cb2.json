{"ast":null,"code":"import _classCallCheck from\"/Users/rajatsharma/Documents/Practice/React/books_authors/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/rajatsharma/Documents/Practice/React/books_authors/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/rajatsharma/Documents/Practice/React/books_authors/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/rajatsharma/Documents/Practice/React/books_authors/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/rajatsharma/Documents/Practice/React/books_authors/node_modules/@babel/runtime/helpers/esm/inherits\";import React from\"react\";import{connect}from\"react-redux\";import*as bookActions from\"../../actions/bookActions\";import*as authorActions from\"../../actions/authorActions\";import{Link,Redirect}from\"react-router-dom\";var Authors=/*#__PURE__*/function(_React$Component){_inherits(Authors,_React$Component);function Authors(){_classCallCheck(this,Authors);return _possibleConstructorReturn(this,_getPrototypeOf(Authors).apply(this,arguments));}_createClass(Authors,[{key:\"componentDidMount\",value:function componentDidMount(){if(!this.props.authors||this.props.authors.length===0){this.props.loadAuthors();}if(!this.props.books||this.props.books.length===0){this.props.loadBooks();}}},{key:\"render\",value:function render(){var _this=this;var authors=this.props.authors.map(function(author){return React.createElement(\"span\",{key:author.id},React.createElement(Link,{to:\"/author/\".concat(author.id)},author.name),React.createElement(\"button\",{onClick:function onClick(){return _this.props.deleteAuthor(author);}},\"Delete\"),React.createElement(\"br\",null));});return React.createElement(\"div\",null,React.createElement(\"h1\",null,\"Authors\"),React.createElement(Link,{to:\"/author/0\",className:\"btn btn-primary\"},\"Add Author\"),React.createElement(\"br\",null),authors);}}]);return Authors;}(React.Component);function mapStateToProps(state){return{books:state.books,authors:state.authors,apiCallInProgress:state.apiCallInProgress};}function mapDispatchToProps(dispatch){return{loadBooks:function loadBooks(){return dispatch(bookActions.loadBooks());},deleteAuthor:function deleteAuthor(author){return dispatch(authorActions.deleteAuthor(author));},loadAuthors:function loadAuthors(){return dispatch(authorActions.loadAuthors());}};}export default connect(mapStateToProps,mapDispatchToProps)(Authors);","map":{"version":3,"sources":["/Users/rajatsharma/Documents/Practice/React/books_authors/src/components/Author/authors.js"],"names":["React","connect","bookActions","authorActions","Link","Redirect","Authors","props","authors","length","loadAuthors","books","loadBooks","map","author","id","name","deleteAuthor","Component","mapStateToProps","state","apiCallInProgress","mapDispatchToProps","dispatch"],"mappings":"0sBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,MAAO,GAAKC,CAAAA,WAAZ,KAA6B,2BAA7B,CACA,MAAO,GAAKC,CAAAA,aAAZ,KAA+B,6BAA/B,CAEA,OAASC,IAAT,CAAeC,QAAf,KAA+B,kBAA/B,C,GAEMC,CAAAA,O,uSACgB,CAClB,GAAI,CAAC,KAAKC,KAAL,CAAWC,OAAZ,EAAuB,KAAKD,KAAL,CAAWC,OAAX,CAAmBC,MAAnB,GAA8B,CAAzD,CAA4D,CAC1D,KAAKF,KAAL,CAAWG,WAAX,GACD,CACD,GAAI,CAAC,KAAKH,KAAL,CAAWI,KAAZ,EAAqB,KAAKJ,KAAL,CAAWI,KAAX,CAAiBF,MAAjB,GAA4B,CAArD,CAAwD,CACtD,KAAKF,KAAL,CAAWK,SAAX,GACD,CACF,C,uCAEQ,gBACP,GAAIJ,CAAAA,OAAO,CAAG,KAAKD,KAAL,CAAWC,OAAX,CAAmBK,GAAnB,CAAuB,SAAAC,MAAM,QACzC,6BAAM,GAAG,CAAEA,MAAM,CAACC,EAAlB,EACE,oBAAC,IAAD,EAAM,EAAE,mBAAaD,MAAM,CAACC,EAApB,CAAR,EAAmCD,MAAM,CAACE,IAA1C,CADF,CAEE,8BAAQ,OAAO,CAAE,yBAAM,CAAA,KAAI,CAACT,KAAL,CAAWU,YAAX,CAAwBH,MAAxB,CAAN,EAAjB,WAFF,CAGE,8BAHF,CADyC,EAA7B,CAAd,CAOA,MACE,gCACE,wCADF,CAEE,oBAAC,IAAD,EAAM,EAAE,CAAC,WAAT,CAAqB,SAAS,CAAC,iBAA/B,eAFF,CAKE,8BALF,CAMGN,OANH,CADF,CAUD,C,qBA5BmBR,KAAK,CAACkB,S,EAuC5B,QAASC,CAAAA,eAAT,CAAyBC,KAAzB,CAAgC,CAC9B,MAAO,CACLT,KAAK,CAAES,KAAK,CAACT,KADR,CAELH,OAAO,CAAEY,KAAK,CAACZ,OAFV,CAGLa,iBAAiB,CAAED,KAAK,CAACC,iBAHpB,CAAP,CAKD,CAED,QAASC,CAAAA,kBAAT,CAA4BC,QAA5B,CAAsC,CACpC,MAAO,CACLX,SAAS,CAAE,2BAAMW,CAAAA,QAAQ,CAACrB,WAAW,CAACU,SAAZ,EAAD,CAAd,EADN,CAELK,YAAY,CAAE,sBAAAH,MAAM,QAAIS,CAAAA,QAAQ,CAACpB,aAAa,CAACc,YAAd,CAA2BH,MAA3B,CAAD,CAAZ,EAFf,CAGLJ,WAAW,CAAE,6BAAMa,CAAAA,QAAQ,CAACpB,aAAa,CAACO,WAAd,EAAD,CAAd,EAHR,CAAP,CAKD,CAED,cAAeT,CAAAA,OAAO,CACpBkB,eADoB,CAEpBG,kBAFoB,CAAP,CAGbhB,OAHa,CAAf","sourcesContent":["import React from \"react\";\nimport { connect } from \"react-redux\";\nimport * as bookActions from \"../../actions/bookActions\";\nimport * as authorActions from \"../../actions/authorActions\";\nimport PropTypes from \"prop-types\";\nimport { Link, Redirect } from \"react-router-dom\";\n\nclass Authors extends React.Component {\n  componentDidMount() {\n    if (!this.props.authors || this.props.authors.length === 0) {\n      this.props.loadAuthors();\n    }\n    if (!this.props.books || this.props.books.length === 0) {\n      this.props.loadBooks();\n    }\n  }\n\n  render() {\n    let authors = this.props.authors.map(author => (\n      <span key={author.id}>\n        <Link to={`/author/${author.id}`}>{author.name}</Link>\n        <button onClick={() => this.props.deleteAuthor(author)}>Delete</button>\n        <br />\n      </span>\n    ));\n    return (\n      <div>\n        <h1>Authors</h1>\n        <Link to=\"/author/0\" className=\"btn btn-primary\">\n          Add Author\n        </Link>\n        <br />\n        {authors}\n      </div>\n    );\n  }\n}\n\nAuthors.propTypes = {\n  books: PropTypes.array.isRequired,\n  authors: PropTypes.array.isRequired,\n  apiCallInProgress: PropTypes.bool.isRequired,\n  loadAuthors: PropTypes.func.isRequired,\n  deleteAuthor: PropTypes.func.isRequired\n};\n\nfunction mapStateToProps(state) {\n  return {\n    books: state.books,\n    authors: state.authors,\n    apiCallInProgress: state.apiCallInProgress\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    loadBooks: () => dispatch(bookActions.loadBooks()),\n    deleteAuthor: author => dispatch(authorActions.deleteAuthor(author)),\n    loadAuthors: () => dispatch(authorActions.loadAuthors())\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Authors);\n"]},"metadata":{},"sourceType":"module"}