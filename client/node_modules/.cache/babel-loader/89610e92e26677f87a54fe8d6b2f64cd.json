{"ast":null,"code":"import _classCallCheck from\"/Users/rajatsharma/Documents/Practice/React/books_authors/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/rajatsharma/Documents/Practice/React/books_authors/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/rajatsharma/Documents/Practice/React/books_authors/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/rajatsharma/Documents/Practice/React/books_authors/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/rajatsharma/Documents/Practice/React/books_authors/node_modules/@babel/runtime/helpers/esm/inherits\";import React from\"react\";import{connect}from\"react-redux\";import{loadBooks,deleteBook}from\"../../actions/bookActions\";import{loadAuthors}from\"../../actions/authorActions\";import{Link,Redirect}from\"react-router-dom\";var Books=/*#__PURE__*/function(_React$Component){_inherits(Books,_React$Component);function Books(){_classCallCheck(this,Books);return _possibleConstructorReturn(this,_getPrototypeOf(Books).apply(this,arguments));}_createClass(Books,[{key:\"componentDidMount\",value:function componentDidMount(){if(!this.props.books||this.props.books.length===0){this.props.loadBooks();}if(!this.props.authors||this.props.authors.length===0){this.props.loadAuthors();}}},{key:\"render\",value:function render(){var _this=this;var books=this.props.books.map(function(book){return React.createElement(\"span\",{key:book.id},React.createElement(Link,{to:\"/book/\".concat(book.id)},book.name),React.createElement(\"button\",{onClick:function onClick(){return _this.props.deleteBook(book);}},\"Delete\"),React.createElement(\"br\",null));});return React.createElement(React.Fragment,null,this.props.apiCallInProgress?React.createElement(\"div\",null,\"Loading\"):React.createElement(React.Fragment,null,React.createElement(\"h1\",null,\"Books\"),React.createElement(Link,{to:\"/book/0\",className:\"btn\"},\"Add book\"),React.createElement(\"br\",null),books));}}]);return Books;}(React.Component);function mapStateToProps(state){return{books:state.books,authors:state.authors,apiCallInProgress:state.apiCallInProgress};}export default connect(mapStateToProps,{loadBooks:loadBooks,loadAuthors:loadAuthors,deleteBook:deleteBook})(Books);","map":{"version":3,"sources":["/Users/rajatsharma/Documents/Practice/React/books_authors/src/components/Books/books.js"],"names":["React","connect","loadBooks","deleteBook","loadAuthors","Link","Redirect","Books","props","books","length","authors","map","book","id","name","apiCallInProgress","Component","mapStateToProps","state"],"mappings":"0sBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,SAAT,CAAoBC,UAApB,KAAsC,2BAAtC,CACA,OAASC,WAAT,KAA4B,6BAA5B,CAEA,OAASC,IAAT,CAAeC,QAAf,KAA+B,kBAA/B,C,GAEMC,CAAAA,K,6RACgB,CAClB,GAAI,CAAC,KAAKC,KAAL,CAAWC,KAAZ,EAAqB,KAAKD,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,GAA4B,CAArD,CAAwD,CACtD,KAAKF,KAAL,CAAWN,SAAX,GACD,CACD,GAAI,CAAC,KAAKM,KAAL,CAAWG,OAAZ,EAAuB,KAAKH,KAAL,CAAWG,OAAX,CAAmBD,MAAnB,GAA8B,CAAzD,CAA4D,CAC1D,KAAKF,KAAL,CAAWJ,WAAX,GACD,CACF,C,uCAEQ,gBACP,GAAIK,CAAAA,KAAK,CAAG,KAAKD,KAAL,CAAWC,KAAX,CAAiBG,GAAjB,CAAqB,SAAAC,IAAI,QACnC,6BAAM,GAAG,CAAEA,IAAI,CAACC,EAAhB,EACE,oBAAC,IAAD,EAAM,EAAE,iBAAWD,IAAI,CAACC,EAAhB,CAAR,EAA+BD,IAAI,CAACE,IAApC,CADF,CAEE,8BAAQ,OAAO,CAAE,yBAAM,CAAA,KAAI,CAACP,KAAL,CAAWL,UAAX,CAAsBU,IAAtB,CAAN,EAAjB,WAFF,CAGE,8BAHF,CADmC,EAAzB,CAAZ,CAOA,MACE,yCACG,KAAKL,KAAL,CAAWQ,iBAAX,CACC,yCADD,CAGC,wCACE,sCADF,CAEE,oBAAC,IAAD,EAAM,EAAE,CAAC,SAAT,CAAmB,SAAS,CAAC,KAA7B,aAFF,CAKE,8BALF,CAMGP,KANH,CAJJ,CADF,CAgBD,C,mBAlCiBT,KAAK,CAACiB,S,EA6C1B,QAASC,CAAAA,eAAT,CAAyBC,KAAzB,CAAgC,CAC9B,MAAO,CACLV,KAAK,CAAEU,KAAK,CAACV,KADR,CAELE,OAAO,CAAEQ,KAAK,CAACR,OAFV,CAGLK,iBAAiB,CAAEG,KAAK,CAACH,iBAHpB,CAAP,CAKD,CAED,cAAef,CAAAA,OAAO,CACpBiB,eADoB,CAEpB,CAAEhB,SAAS,CAATA,SAAF,CAAaE,WAAW,CAAXA,WAAb,CAA0BD,UAAU,CAAVA,UAA1B,CAFoB,CAAP,CAGbI,KAHa,CAAf","sourcesContent":["import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { loadBooks, deleteBook } from \"../../actions/bookActions\";\nimport { loadAuthors } from \"../../actions/authorActions\";\nimport PropTypes from \"prop-types\";\nimport { Link, Redirect } from \"react-router-dom\";\n\nclass Books extends React.Component {\n  componentDidMount() {\n    if (!this.props.books || this.props.books.length === 0) {\n      this.props.loadBooks();\n    }\n    if (!this.props.authors || this.props.authors.length === 0) {\n      this.props.loadAuthors();\n    }\n  }\n\n  render() {\n    let books = this.props.books.map(book => (\n      <span key={book.id}>\n        <Link to={`/book/${book.id}`}>{book.name}</Link>\n        <button onClick={() => this.props.deleteBook(book)}>Delete</button>\n        <br />\n      </span>\n    ));\n    return (\n      <>\n        {this.props.apiCallInProgress ? (\n          <div>Loading</div>\n        ) : (\n          <>\n            <h1>Books</h1>\n            <Link to=\"/book/0\" className=\"btn\">\n              Add book\n            </Link>\n            <br />\n            {books}\n          </>\n        )}\n      </>\n    );\n  }\n}\n\nBooks.propTypes = {\n  books: PropTypes.array.isRequired,\n  authors: PropTypes.array.isRequired,\n  apiCallInProgress: PropTypes.bool.isRequired,\n  loadBooks: PropTypes.func.isRequired,\n  deleteBook: PropTypes.func.isRequired\n};\n\nfunction mapStateToProps(state) {\n  return {\n    books: state.books,\n    authors: state.authors,\n    apiCallInProgress: state.apiCallInProgress\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  { loadBooks, loadAuthors, deleteBook }\n)(Books);\n"]},"metadata":{},"sourceType":"module"}